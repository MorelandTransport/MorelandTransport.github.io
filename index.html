<!DOCTYPE html>
<head>
  <title>Leaflet testing one two three </title>

  <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"
    integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"
      integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg=="
      crossorigin=""></script>

      <script src='https://api.mapbox.com/mapbox-gl-js/v0.36.0/mapbox-gl.js'></script>
      <link href='https://api.mapbox.com/mapbox-gl-js/v0.36.0/mapbox-gl.css' rel='stylesheet' />
<style>
  #map { height: 500px; }
</style>

</head>



<body>


  <H1>Hello world</H1>
  <div id="map"></div>

<script>

  var map = L.map('map').setView([-37.75, 144.96667], 13);
  var json_file = "json/count_location_details_grow.json";


  $.ajax({
    url: json_file,
    dataType: 'json',
    success: function (data) {
        console.log()
        var layer = L.geoJSON(data, {
          onEachFeature: function(feature, layer){
            layer.bindPopup(feature.properties.countsite + "<BR>" +
              "Distance from CBD: " + feature.properties.dist_from_cbd + " km" + "<BR>"  +
              "Most recent count year: " + feature.properties.Most_recent_count_year + "<BR>" +
              "Most recent count value: " + feature.properties.Most_recent_count_value + "<BR>" +
              "Additional riders each year: " + feature.properties.Annual_increase + "<BR>" +
              "Growth rate: " + feature.properties.Growth_rate + "%" + "<BR>" +
              "Number of times counted: " + feature.properties.Number_of_times_counted);
          },
        }).addTo(map);

        map.fitBounds(layer.getBounds());
    }
});


  L.tileLayer(
        'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',
        maxZoom: 18,
      }).addTo(map);

  /*L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
      attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
      maxZoom: 18,
      id: 'your.mapbox.project.id',
      accessToken: 'your.mapbox.public.access.token'
  }).addTo(map);*/


</script>
</body>
</html>
